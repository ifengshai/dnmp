<style>
    .caigou {
        border-width: 1px;
        border-style: solid;
        border-color: rgba(188, 188, 188, 1);
        border-radius: 6px;
        padding: 10px;
        width: 70%;
        margin-left: 10%;
        margin-bottom: 10px;
    }

    .caigou #caigou-table {
        width: 100%;
        height: 130px;
        border-width: 1px;
        border-style: solid;
        border-color: rgba(188, 188, 188, 1);
        border-radius: 6px;
        text-align: center;
    }

    .caigou #caigou-table tr {

        border-width: 1px;
        border-style: solid;
        border-color: rgba(188, 188, 188, 1);
        border-radius: 6px;
        line-height: 50px;
    }

    .caigou #caigou-table tr th {

        border-width: 1px;
        border-style: solid;
        border-color: rgba(188, 188, 188, 1);
        border-radius: 6px;
        text-align: center;
        font-size: 14px;
    }

    .caigou #caigou-table tr td {

        border-width: 1px;
        border-style: solid;
        border-color: rgba(188, 188, 188, 1);
        border-radius: 6px;
    }

    .caigou #caigou-table tr td input {

        width: 100px;
    }
</style>


<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <div class='caigou'>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Contract_number')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-contract_number" class="form-control" name="row[contract_number]"
                    value="{$row.contract_number|htmlentities}" readonly type="text">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Contract_name')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-contract_name" class="form-control" name="row[contract_name]" type="text"
                    value="{$row.contract_name|htmlentities}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Buyer_name')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-buyer_name" class="form-control" name="row[buyer_name]" type="text" readonly
                    value="香港佐罗数字科技有限公司">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Buyer_address')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-buyer_address" class="form-control" name="row[buyer_address]" type="text" readonly
                    value="ROOM 3,27/F.,HO KING COMMERCIAL CENTRE,NO.2-16 FA YUEN STREET,MONGKOK,HONG KONG">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Buyer_phone')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-buyer_phone" class="form-control" name="row[buyer_phone]" type="text"
                    value="{$row.buyer_phone|htmlentities}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Seller_name')}:</label>
            <div class="col-xs-12 col-sm-8">
                <!-- <input id="c-seller_name" class="form-control" name="row[seller_name]" type="text"> -->
                <select name="row[supplier_id]" class="form-control supplier selectpicker" required data-live-search='true'>
                    <option value="">请选择</option>
                    {foreach $supplier as $k => $v}
                    <option value="{$k}" {:$row['supplier_id']==$k ? 'selected' : '' }>{$v}</option>
                    {/foreach}
                </select>
                <!-- {:build_select('row[supplier_id]', $supplier)} -->
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Seller_address')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-seller_address" class="form-control" name="row[supplier_address]" readonly type="text"
                    value="{$row.supplier_address|htmlentities}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Seller_phone')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-seller_phone" class="form-control" name="row[supplier_phone]" readonly type="text"
                    value="{$row.supplier_phone|htmlentities}">
            </div>
        </div>
    </div>

    <hr>
    <div class='caigou'>
        <p style="font-size: 16px;text-align: center;"><b>产品信息</b></p>
        <div style="margin-bottom:20px;">
            <div id="toolbar" class="toolbar">
                <a href="javascript:;" class="btn btn-success btn-add" title="增加"><i class="fa fa-plus"></i> 增加</a>
            </div>
            <table id="caigou-table">
                <tr>
                    <th>SKU</td>
                    <th>产品名称</td>
                    <th>供应商SKU</td>
                    <th>数量（个）</td>
                    <th>单价（元/个）</td>
                    <th>总价（元）</td>
                    <th>操作</td>
                </tr>
                {foreach $item as $v}
                <tr>
                        <input id="c-purchase_remark" class="form-control item_id" name="item_id[]" type="hidden" value="{$v.id}">
                    <td>
                        <input id="c-purchase_remark" class="form-control sku" name="sku[]" type="text" value="{$v.sku}">
                    </td>
                    <td><input id="c-purchase_remark" class="form-control" name="product_name[]" type="text"
                            value="{$v.product_name}"></td>
                    <td><input id="c-purchase_remark" class="form-control" name="supplier_sku[]" type="text"
                            value="{$v.supplier_sku}"></td>
                    <td><input id="c-purchase_remark" class="form-control num" name="num[]" type="text" value="{$v.num}">
                    </td>
                    <td><input id="c-purchase_remark" class="form-control price" name="price[]" type="text"
                            value="{$v.price}"></td>
                    <td><input id="c-purchase_remark" class="form-control total" name="total[]" type="text"
                            value="{$v.total}"></td>
                    <td><a href="javascript:;" class="btn btn-danger btn-del" title="删除"><i class="fa fa-trash"></i>
                            删除</a></td>
                </tr>
                {/foreach}

            </table>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Freight')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-freight" class="form-control" step="0.01" name="row[freight]" type="number"
                    placeholder="单位：元" value="{$row.freight}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Total')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-total" class="form-control alltotal" step="0.01" name="row[total]" type="number" placeholder="单位：元"
                    value="{$row.total}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Num')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-num" class="form-control allnum" name="row[num]" type="number" value="{$row.num}"
                    placeholder="单位：个">
            </div>
        </div>
    </div>

    <hr>
    <div class='caigou'>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Quality_standard')}:</label>
            <div class="col-xs-12 col-sm-8">
                <textarea id="c-quality_standard" class="form-control " rows="5" name="row[quality_standard]"
                    cols="50">{$row.quality_standard|htmlentities}</textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Packaging_requirements')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-packaging_requirements" class="form-control" name="row[packaging_requirements]" type="text"
                    value="{$row.packaging_requirements|htmlentities}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Delivery_stime')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-delivery_stime" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss"
                    data-use-current="true" name="row[delivery_stime]" type="text" value="{$row.delivery_stime}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Delivery_etime')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-delivery_etime" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss"
                    data-use-current="true" name="row[delivery_etime]" type="text" value="{$row.delivery_etime}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Settlement_method')}:</label>
            <div class="col-xs-12 col-sm-8">
                <select name="row[settlement_method]" class="form-control settlement_method">
                    <option value="1" {:$row['settlement_method']==1 ? 'selected' : '' }>先付款</option>
                    <option value="2" {:$row['settlement_method']==2 ? 'selected' : '' }>货到付款</option>
                    <option value="3" {:$row['settlement_method']==3 ? 'selected' : '' }>付定金，货到付款</option>
                </select>
            </div>
        </div>
        <div class="form-group {:$row['settlement_method'] == 3 ? '' : 'hidden'} deposit_amount" {}>
            <label class="control-label col-xs-12 col-sm-2">{:__('Deposit_amount')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-deposit_amount" class="form-control" step="0.01" name="row[deposit_amount]" type="number"
                    value="{$row.deposit_amount|htmlentities}">
            </div>
        </div>
        <div class="form-group {:$row['settlement_method'] == 3 ? '' : 'hidden'} final_amount">
            <label class="control-label col-xs-12 col-sm-2">{:__('Final_amount')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-final_amount" class="form-control" step="0.01" name="row[final_amount]" type="number"
                    value="{$row.final_amount|htmlentities}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Delivery_address')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-delivery_address" class="form-control" name="row[delivery_address]" type="text"
                    value="{$row.delivery_address|htmlentities}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Contract_stime')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-contract_stime" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss"
                    data-use-current="true" name="row[contract_stime]" type="text" value="{$row.contract_stime}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Contract_etime')}:</label>
            <div class="col-xs-12 col-sm-8">
                <input id="c-contract_etime" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss"
                    data-use-current="true" name="row[contract_etime]" type="text" value="{$row.contract_etime}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Contract_images')}:</label>
            <div class="col-xs-12 col-sm-8">
                <div class="input-group">
                    <input id="c-contract_images" class="form-control" size="50" name="row[contract_images]" type="text"
                        value="{$row.contract_images|htmlentities}">
                    <div class="input-group-addon no-border no-padding">
                        <span><button type="button" id="plupload-contract_images" class="btn btn-danger plupload"
                                data-input-id="c-contract_images"
                                data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="true"
                                data-preview-id="p-contract_images"><i class="fa fa-upload"></i>
                                {:__('Upload')}</button></span>
                        <span><button type="button" id="fachoose-contract_images" class="btn btn-primary fachoose"
                                data-input-id="c-contract_images" data-mimetype="image/*" data-multiple="true"><i
                                    class="fa fa-list"></i> {:__('Choose')}</button></span>
                    </div>
                    <span class="msg-box n-right" for="c-contract_images"></span>
                </div>
                <ul class="row list-inline plupload-preview" id="p-contract_images"></ul>
            </div>
        </div>
    </div>
    <input type='hidden' name="row[status]" class="status" value="{$row.status}">
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <!-- <button type="submit" class="btn btn-success btn-status btn-embossed disabled">提交审核</button> -->
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>


<div id="table-content" style="display: none;">
    <table>
        <tr>
            <td>
                <input id="c-purchase_remark" class="form-control sku" name="sku[]" type="text">
            </td>
            <td><input id="c-purchase_remark" class="form-control" name="product_name[]" type="text"></td>
            <td><input id="c-purchase_remark" class="form-control" name="supplier_sku[]" type="text"></td>
            <td><input id="c-purchase_remark" class="form-control num" name="num[]" type="text"></td>
            <td><input id="c-purchase_remark" class="form-control price" name="price[]" type="text"></td>
            <td><input id="c-purchase_remark" class="form-control total" name="total[]" type="text"></td>
            <td><a href="javascript:;" class="btn btn-danger btn-del" title="删除"><i class="fa fa-trash"></i>
                    删除</a></td>
        </tr>
    </table>
</div>